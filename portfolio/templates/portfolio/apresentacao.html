{% extends "portfolio/base.html" %}
{% load static %}

{% block title %}Sobre o Projeto{% endblock %}

{% block extra_css %}
<style>
  .tech-section {
    padding: 3rem 0;
    border-radius: 10px;
    margin-bottom: 2rem;
  }

  .timeline {
    position: relative;
    max-width: 1200px;
    margin: 0 auto;
  }

  .timeline::after {
    content: '';
    position: absolute;
    width: 6px;
    background: linear-gradient(180deg, var(--primary-color), var(--secondary-color));
    top: 0;
    bottom: 0;
    left: 50%;
    margin-left: -3px;
  }

  .timeline-container {
    padding: 10px 40px;
    position: relative;
    background-color: inherit;
    width: 50%;
  }

  .timeline-container::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    right: -10px;
    top: 15px;
    border-radius: 50%;
    z-index: 1;
    background: var(--secondary-color);
    border: 4px solid var(--primary-color);
  }

  .left {
    left: 0;
  }

  .right {
    left: 50%;
  }

  .left::before {
    content: " ";
    position: absolute;
    top: 15px;
    right: 30px;
    border: medium solid var(--border-color);
    border-width: 10px 0 10px 10px;
    border-color: transparent transparent transparent var(--border-color);
  }

  .right::before {
    content: " ";
    position: absolute;
    top: 15px;
    left: 30px;
    border: medium solid var(--border-color);
    border-width: 10px 10px 10px 0;
    border-color: transparent var(--border-color) transparent transparent;
  }

  .right::after {
    left: -10px;
  }

  .timeline-content {
    padding: 1.5rem;
    background-color: var(--card-bg);
    position: relative;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  }

  .tech-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .skill-bar {
    width: 100%;
    height: 10px;
    background-color: var(--border-color);
    border-radius: 5px;
    margin-bottom: 1.5rem;
  }

  .skill-progress {
    height: 100%;
    border-radius: 5px;
    background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
    position: relative;
    animation: animate-skill 1s ease-in-out forwards;
  }

  @keyframes animate-skill {
    0% { width: 0; }
  }

  /* Responsividade da timeline */
  @media screen and (max-width: 768px) {
    .timeline::after {
      left: 31px;
    }

    .timeline-container {
      width: 100%;
      padding-left: 70px;
      padding-right: 25px;
    }

    .timeline-container::before {
      left: 60px;
      border: medium solid var(--border-color);
      border-width: 10px 10px 10px 0;
      border-color: transparent var(--border-color) transparent transparent;
    }

    .left::after, .right::after {
      left: 22px;
    }

    .right {
      left: 0%;
    }
  }

  .diagram-container {
    background-color: var(--card-bg);
    padding: 1.5rem;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    margin: 2rem 0;
  }

  .diagram-container img {
    max-width: 100%;
    height: auto;
    border-radius: 5px;
  }

  .code-block {
    background-color: #2d2d2d;
    color: #f8f8f2;
    border-radius: 5px;
    padding: 1rem;
    margin: 1rem 0;
    overflow-x: auto;
    font-family: 'Fira Code', monospace;
  }

  .highlight {
    color: var(--primary-color);
    font-weight: 600;
  }
</style>
{% endblock %}

{% block content %}
  <!-- Hero Section -->
  <section class="tech-section bg-light rounded" data-aos="fade-up">
    <div class="container py-4 text-center">
      <h1 class="display-4 mb-4">Sobre o <span class="highlight">Projeto</span></h1>
      <p class="lead">Uma visão técnica da arquitetura e desenvolvimento deste portfólio</p>
    </div>
  </section>

  <!-- Seção Sobre Mim -->
  <section class="mb-5" data-aos="fade-up">
    <div class="row align-items-center">
      <div class="col-lg-5 mb-4 mb-lg-0" data-aos="fade-right">
        <img src="{% static 'portfolio/images/fotoperfil.jpg' %}" alt="Filipe Palma" class="img-fluid rounded-circle shadow">
      </div>
      <div class="col-lg-7" data-aos="fade-left">
        <h2 class="mb-4">Olá, sou o <span class="highlight">Filipe Palma</span></h2>
        <p class="lead mb-4">Desenvolvedor Web apaixonado por tecnologia e boas práticas de programação</p>
        <p>Minha jornada na área de desenvolvimento começou há alguns anos, quando descobri a paixão por criar soluções digitais que impactam positivamente a vida das pessoas. Desde então, venho me especializando em tecnologias web modernas como Django, React, e outras ferramentas do ecossistema atual.</p>
        <p>Meu objetivo é construir aplicações que sejam não apenas robustas e escaláveis, mas também intuitivas e acessíveis para todos os usuários.</p>

        <div class="mt-4">
          <h4 class="mb-3">Minhas habilidades:</h4>

          <div class="mb-3">
            <div class="d-flex justify-content-between">
              <strong>Django/Python</strong>
              <span>90%</span>
            </div>
            <div class="skill-bar">
              <div class="skill-progress" style="width: 90%"></div>
            </div>
          </div>

          <div class="mb-3">
            <div class="d-flex justify-content-between">
              <strong>HTML/CSS/JavaScript</strong>
              <span>85%</span>
            </div>
            <div class="skill-bar">
              <div class="skill-progress" style="width: 85%"></div>
            </div>
          </div>

          <div class="mb-3">
            <div class="d-flex justify-content-between">
              <strong>React</strong>
              <span>75%</span>
            </div>
            <div class="skill-bar">
              <div class="skill-progress" style="width: 75%"></div>
            </div>
          </div>

          <div>
            <div class="d-flex justify-content-between">
              <strong>UI/UX Design</strong>
              <span>70%</span>
            </div>
            <div class="skill-bar">
              <div class="skill-progress" style="width: 70%"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Arquitetura MVT -->
  <section class="mb-5" data-aos="fade-up">
    <h2 class="mb-4">Arquitetura <span class="highlight">MVT</span> do Django</h2>
    <div class="row">
      <div class="col-lg-7 mb-4 mb-lg-0" data-aos="fade-right">
        <p>O Django adota o padrão arquitetônico Model-View-Template (MVT), uma variação do conhecido padrão MVC (Model-View-Controller). Esta arquitetura proporciona uma separação clara de responsabilidades, facilitando o desenvolvimento e a manutenção do código:</p>

        <div class="card mb-3">
          <div class="card-body">
            <div class="d-flex align-items-center">
              <div class="tech-icon me-3">
                <i class="fas fa-database"></i>
              </div>
              <div>
                <h4 class="card-title">Model</h4>
                <p class="card-text">Define a estrutura de dados e as regras de acesso ao banco de dados. São classes em <code>models.py</code> que mapeiam tabelas do banco de dados e definem relacionamentos entre entidades.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="card mb-3">
          <div class="card-body">
            <div class="d-flex align-items-center">
              <div class="tech-icon me-3">
                <i class="fas fa-code"></i>
              </div>
              <div>
                <h4 class="card-title">View</h4>
                <p class="card-text">Trata a lógica de negócio e o fluxo de requisição/resposta. São funções ou classes em <code>views.py</code> que processam os dados e os enviam para renderização nos templates.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-body">
            <div class="d-flex align-items-center">
              <div class="tech-icon me-3">
                <i class="fas fa-file-code"></i>
              </div>
              <div>
                <h4 class="card-title">Template</h4>
                <p class="card-text">Cuida da renderização e apresentação dos dados. São arquivos HTML que utilizam a linguagem de templates do Django para exibir as informações de forma dinâmica.</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-5" data-aos="fade-left">
        <div class="diagram-container">
          <img src="{% static 'portfolio/images/diagramaportfolio.png' %}" alt="Diagrama MVT" class="img-fluid">
        </div>
        <div class="code-block">
          <pre><code># models.py - Exemplo de Model
class Projeto(models.Model):
    titulo = models.CharField(max_length=100)
    descricao = models.TextField()
    github = models.URLField()

# views.py - Exemplo de View
def projetos_list(request):
    projetos = Projeto.objects.all()
    return render(request, 'projetos.html', {'projetos': projetos})

# projetos.html - Exemplo de Template
{% verbatim %}
{% for projeto in projetos %}
    <h3>{{ projeto.titulo }}</h3>
    <p>{{ projeto.descricao }}</p>
{% endfor %}
{% endverbatim %}</code></pre>
        </div>
      </div>
    </div>
  </section>

  <!-- Diagrama ER -->
  <section class="mb-5" data-aos="fade-up">
    <h2 class="mb-4"><span class="highlight">Diagrama</span> de Entidade-Relacionamento</h2>
    <div class="diagram-container">
      <img src="{% static 'portfolio/images/diagramaDER.png' %}" alt="Diagrama de Entidade-Relacionamento" class="img-fluid">
    </div>
    <p class="lead mb-4">A estrutura de dados do projeto é organizada através dos seguintes relacionamentos entre os modelos:</p>

    <div class="row row-cols-1 row-cols-md-3 g-4">
      <div class="col" data-aos="zoom-in">
        <div class="card h-100">
          <div class="card-body">
            <h3 class="card-title text-center mb-3">One-to-One</h3>
            <p class="card-text">Mapeado com <code>OneToOneField</code>, por exemplo:</p>
            <ul>
              <li><code>Autor ↔ User</code>: Cada autor está associado a um único usuário do sistema.</li>
              <li><code>Extras ↔ Projeto</code>: Cada projeto possui um único conjunto de informações extras.</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="col" data-aos="zoom-in" data-aos-delay="100">
        <div class="card h-100">
          <div class="card-body">
            <h3 class="card-title text-center mb-3">One-to-Many</h3>
            <p class="card-text">Mapeado com <code>ForeignKey</code>, por exemplo:</p>
            <ul>
              <li><code>Comentário → Artigo</code>: Cada comentário pertence a um único artigo.</li>
              <li><code>Imagem → Projeto</code>: Cada imagem pertence a um único projeto.</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="col" data-aos="zoom-in" data-aos-delay="200">
        <div class="card h-100">
          <div class="card-body">
            <h3 class="card-title text-center mb-3">Many-to-Many</h3>
            <p class="card-text">Mapeado com <code>ManyToManyField</code>, por exemplo:</p>
            <ul>
              <li><code>Projeto ↔ Tecnologia</code>: Um projeto pode utilizar várias tecnologias, e uma tecnologia pode ser usada em vários projetos.</li>
              <li><code>Artigo ↔ Tag</code>: Um artigo pode ter várias tags, e uma tag pode estar em vários artigos.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Timeline do Projeto -->
  <section class="mb-5" data-aos="fade-up">
    <h2 class="mb-4">Evolução do <span class="highlight">Projeto</span></h2>
    <div class="timeline">
      <div class="timeline-container left" data-aos="fade-right">
        <div class="timeline-content">
          <h3>Fase 1: Concepção</h3>
          <p>Planejamento da arquitetura e dos requisitos do portfólio, definindo os modelos principais e a estrutura do banco de dados.</p>
        </div>
      </div>
      <div class="timeline-container right" data-aos="fade-left">
        <div class="timeline-content">
          <h3>Fase 2: Desenvolvimento Base</h3>
          <p>Implementação dos modelos principais, views e templates básicos, estabelecendo a navegação entre páginas.</p>
        </div>
      </div>
      <div class="timeline-container left" data-aos="fade-right">
        <div class="timeline-content">
          <h3>Fase 3: Funcionalidades</h3>
          <p>Adição de recursos como autenticação, formulários para criação e edição de conteúdo, e sistema de comentários.</p>
        </div>
      </div>
      <div class="timeline-container right" data-aos="fade-left">
        <div class="timeline-content">
          <h3>Fase 4: Interface Moderna</h3>
          <p>Redesign da interface com foco em usabilidade, responsividade e experiência do usuário, implementando animações e interatividade.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Mapa do Site -->
  <section class="mb-5" data-aos="fade-up">
    <h2 class="mb-4">Estrutura do <span class="highlight">Site</span></h2>
    <div class="card">
      <div class="card-body">
        <div class="row">
          <div class="col-lg-6" data-aos="fade-right">
            <h4 class="mb-3">Mapa de Páginas</h4>
            <div class="code-block">
              <pre><code>/
├─ index/ (Página inicial)
├─ projetos/ (Lista de projetos)
│  ├─ criar/ (Formulário de novo projeto)
│  └─ &lt;id&gt;/ (Detalhes do projeto)
│     ├─ editar/ (Edição de projeto)
│     └─ apagar/ (Confirmação para apagar)
├─ tecnologias/ (Lista de tecnologias)
├─ apresentacao/ (Sobre o projeto)
└─ cv/ (Currículo)</code></pre>
            </div>
          </div>

          <div class="col-lg-6" data-aos="fade-left">
            <h4 class="mb-3">URLs e Views</h4>
            <p>O sistema de roteamento do Django mapeia URLs para funções ou classes em <code>views.py</code> que processam as requisições HTTP e retornam as respostas apropriadas.</p>
            <p>Este portfólio foi desenvolvido seguindo as melhores práticas de organização de código e estruturação de rotas, facilitando a manutenção e expansão futura do projeto.</p>
            <div class="mt-3 text-center">
              <a href="https://github.com/filipe-palma/DjangoPWProject" target="_blank" class="btn btn-primary">
                <i class="fab fa-github me-2"></i>Ver no GitHub
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock %}

{% block extra_js %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Animação para as barras de progresso de habilidades
    const skillBars = document.querySelectorAll('.skill-progress');

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const width = entry.target.style.width;
          entry.target.style.width = '0';
          setTimeout(() => {
            entry.target.style.width = width;
          }, 100);
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });

    skillBars.forEach(bar => {
      observer.observe(bar);
    });
  });
</script>
{% endblock %}
